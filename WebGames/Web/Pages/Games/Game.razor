@page "/games/{code:required}"
@using Microsoft.AspNetCore.Components.Sections
@using WebGames.Core.Games
@using WebGames.Core.Players
@using WebGames.Web.Components.Games
@rendermode RenderModes.Interactive

<PageTitle>Game @(game?.Code ?? string.Empty)</PageTitle>

@if (game is not null)
{
	<div class="game-actions">
		@* @todo Show confirmation *@
		<a href="/games" class="btn">Leave</a>
		
		<SectionOutlet SectionName="game-actions"/>
	</div>

	switch (game)
	{
		case Solitaire solitaire when (player is SolitairePlayer solitairePlayer):
			<SolitaireUi Game="@(solitaire)" Player="@(solitairePlayer)" />
			break;
	}
}
else
{
	<p>Game not found.</p>
}
